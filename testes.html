<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Per√≠metros do Requalifica Centro</title>
  <!-- leaflet CSS-->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
    integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
    crossorigin="" />

  <!-- Make sure you put this AFTER Leaflet's CSS -->
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
    integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
    crossorigin=""></script>

  <!-- Carrega o Jquery-->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


</head>

<body>
  <div id="map" style="width: auto; height: 100vh"> </div>

  <script>

    var map = L.map('map', {
      center: [-23.5430, -46.6331],
      zoom: 14.5
    });

    /*
     * This example shows how to add a layer list to a map where users can check and uncheck boxes to show and hide layers.
     * The code below is combined with the code to add geojson to a map, since those two things are often used together.
     * The code consists of five main parts:
     *    1. Create the basemap(s) and layer(s)
     *    2. Get geojson data and run a function to add it to a layer from step 1
     *    3. Create the function that will be run in step 2
     *    4. Create the list of layers that will appear in the control component
     *    5. Create the control component
     */

    /* 1 */
    // create a basemap
    let streets = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map)
    // create an operational layer that is empty for now
    let mylayer = L.layerGroup().addTo(map)

    /* 2 */
    // fill that layer with data from a geojson file
    jQuery.getJSON("perimetro_requalifica.geojson", function (json) {
      L.geoJSON(json, {
        onEachFeature: addMyData,
      })
    })

    /* 3 */
    // This function is run for every feature found in the geojson file. It adds the feature to the empty layer we created above
    function addMyData(feature, layer) {
      mylayer.addLayer(layer)
      // some other code can go here, like adding a popup with layer.bindPopup("Hello")
    }

    /* 4 */
    // These options will appear in the control box that users click to show and hide layers
    let basemapControl = {
      "My Basemap": streets, // an option to select a basemap (makes more sense if you have multiple basemaps)
    }
    let layerControl = {
      "My Layer": mylayer, // an option to show or hide the layer you created from geojson
    }

    /* 5 */
    // Add the control component, a layer list with checkboxes for operational layers and radio buttons for basemaps
    L.control.layers(basemapControl, layerControl).addTo(map)

  </script>
</body>

</html>